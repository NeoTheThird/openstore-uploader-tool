
class upload:
	from smartfile import BasicClient
	def __init__(self, fil, filename):
		api = BasicClient()
		response = api.post('/path/data/openappstore/v1/', file=fil)
		print("debug: "+response)
		print('debug: https://file.ac/w-fprv1yrTM/' + filename)
		
class repo:
	def __init__(self, fil, iid, package):
		self.fil = fil
		self.iid = iid
		self.package = package
		self.openFile()
		updatePackage(iid, package)
		
	def update(appID, name, value):
		d = json.loads(self.f)
		b = []
		e = {}
		for de in d["packages"]:
			if de["id"] == iid:
				de["package"] = package
			b.append(de)
		e[u"packages"] = b
		return json.dumps(e)
	
	def updatePackage(appID, NewAppPackage):

	
	def updateVerion(appID, NewVersion):
		#TODO
		null="null"
	
	def openFile(fil="test/repolist.json"):
		f = open(fil, "r")
		self.f = f.read()
	
	def writeFile(value, fi="test/repolist.json"):
		f = open(fi, "w")
		f.write(value)
	
